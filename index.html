

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to the Python RPM Porting Guide &mdash; Python RPM Porting Guide 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Python RPM Porting Guide 0.1 documentation" href="#"/>
        <link rel="next" title="Porting applications that happen to be written in Python" href="applications.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> Python RPM Porting Guide
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Welcome to the Python RPM Porting Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Porting applications that happen to be written in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Porting Python modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-modules.html">Porting an application and a module in one package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools for programming in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="naming-scheme.html">New Python package naming scheme</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="#">Python RPM Porting Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="#">Docs</a> &raquo;</li>
      
    <li>Welcome to the Python RPM Porting Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="welcome-to-the-python-rpm-porting-guide">
<h1>Welcome to the Python RPM Porting Guide<a class="headerlink" href="#welcome-to-the-python-rpm-porting-guide" title="Permalink to this headline">¶</a></h1>
<p>This document aims to guide you through the process of porting your Python 2 RPM package to Python 3.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you struggle with the porting of your package and would like help or more information, please contact us at the <a class="reference external" href="https://lists.fedoraproject.org/admin/lists/python-devel.lists.fedoraproject.org/">python-devel mailing list</a> (also accessible through a <a class="reference external" href="https://lists.fedoraproject.org/archives/list/python-devel&#64;lists.fedoraproject.org/">web interface</a>) and we will try to help you and/or improve the guide accordingly.</p>
<p class="last">If you&#8217;ve spotted any errors, have any suggestions or think some section(s) could be expanded, please create an Issue or a Pull request on our <a class="reference external" href="https://github.com/fedora-python/python-rpm-porting">GitHub</a>.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#is-your-package-ready-to-be-ported" id="id1">Is your package ready to be ported?</a><ul>
<li><a class="reference internal" href="#does-upstream-support-python-3" id="id2">Does upstream support Python 3?</a></li>
<li><a class="reference internal" href="#are-the-dependencies-of-your-package-ported-to-python-3-for-your-distribution" id="id3">Are the dependencies of your package ported to Python 3 for your distribution?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-type-of-software-are-you-packaging" id="id4">What type of software are you packaging?</a><ul>
<li><a class="reference internal" href="#applications-that-happen-to-be-written-in-python" id="id5">1. Applications that happen to be written in Python</a></li>
<li><a class="reference internal" href="#python-modules" id="id6">2. Python modules</a></li>
<li><a class="reference internal" href="#an-application-and-a-module-in-one-package" id="id7">3. An application and a module in one package</a></li>
<li><a class="reference internal" href="#tools-for-programming-in-python" id="id8">4. Tools for programming in Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#are-you-following-the-new-python-package-naming-scheme" id="id9">Are you following the new Python package naming scheme?</a></li>
</ul>
</div>
<div class="section" id="is-your-package-ready-to-be-ported">
<h2><a class="toc-backref" href="#id1">Is your package ready to be ported?</a><a class="headerlink" href="#is-your-package-ready-to-be-ported" title="Permalink to this headline">¶</a></h2>
<p>First thing you need to figure out is if the software you&#8217;re packaging is ready to be packaged for Python 3.</p>
<div class="section" id="does-upstream-support-python-3">
<h3><a class="toc-backref" href="#id2">Does upstream support Python 3?</a><a class="headerlink" href="#does-upstream-support-python-3" title="Permalink to this headline">¶</a></h3>
<p>Look  upstream and try to find out if the software is released with Python 3 support. First look at the front page of the project, Python compatibility is oftentimes listed there. There is also a good chance the project will have this information listed on <a class="reference external" href="https://pypi.python.org/pypi">PyPI</a>. If not, look at release notes or the changelog history. You can also look at issues and pull requests.</p>
<p>However, the important thing to note is that the Python 3 support needs to be <em>released</em>, not just committed in the version control system (git, mercurial,...).</p>
</div>
<div class="section" id="are-the-dependencies-of-your-package-ported-to-python-3-for-your-distribution">
<h3><a class="toc-backref" href="#id3">Are the dependencies of your package ported to Python 3 for your distribution?</a><a class="headerlink" href="#are-the-dependencies-of-your-package-ported-to-python-3-for-your-distribution" title="Permalink to this headline">¶</a></h3>
<p>Before you start porting, it&#8217;s imperative that you check that all the dependencies of your package are also ported to Python 3 in the distribution you are packaging for (Fedora, CentOS, RHEL or any other RPM-based distribution).</p>
<p>You may encounter a situation where your software is Python 3 ready upstream, but it uses some dependencies that are packaged only for Python 2 in your distribution. In that case try to communicate with the maintainer of the needed package and try to motivate and/or help them with porting of the package.</p>
</div>
</div>
<div class="section" id="what-type-of-software-are-you-packaging">
<span id="chosing-type-section"></span><h2><a class="toc-backref" href="#id4">What type of software are you packaging?</a><a class="headerlink" href="#what-type-of-software-are-you-packaging" title="Permalink to this headline">¶</a></h2>
<p>There are four distinct types of Python packages, each with different instructions for porting, so be mindful of which you chose.</p>
<p>In rare cases your package might not nicely fall into either of these categories. In that case use the relevant parts from multiple sections or contact us on the mailing list.</p>
<div class="section" id="applications-that-happen-to-be-written-in-python">
<h3><a class="toc-backref" href="#id5">1. Applications that happen to be written in Python</a><a class="headerlink" href="#applications-that-happen-to-be-written-in-python" title="Permalink to this headline">¶</a></h3>
<p>The section for applications is for software where the user doesn&#8217;t care in which programming language it is written. For example, it doesn&#8217;t matter if it is written in Python 2 or 3 because the application should run the same.</p>
<p>Applications have to have an executable, which you can check by running <code class="docutils literal"><span class="pre">dnf</span> <span class="pre">repoquery</span> <span class="pre">-l</span> <span class="pre">your-package-name</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">/usr/bin/</span></code>.</p>
<p>If your package is not being imported by third-party projects (e.g. <code class="docutils literal"><span class="pre">import</span> <span class="pre">some_module</span></code> in a Python file), it is most likely an application.</p>
<p>Try running <code class="docutils literal"><span class="pre">dnf</span> <span class="pre">repoquery</span> <span class="pre">--whatrequires</span> <span class="pre">your-package-name</span></code> to see a list of packages that depend on yours. If there are none, your package is likely an application, because there would be little reason to package a module that nobody uses. However, if there are some packages that depend on yours, we cannot be sure if it&#8217;s an application-only package or not, as some of these packages might be depending on your application itself, instead of importing modules from your package.</p>
<p><em>See:</em> <a class="reference internal" href="applications.html"><span class="doc">Porting applications that happen to be written in Python</span></a></p>
</div>
<div class="section" id="python-modules">
<h3><a class="toc-backref" href="#id6">2. Python modules</a><a class="headerlink" href="#python-modules" title="Permalink to this headline">¶</a></h3>
<p>If your package is being imported by third-party projects, but does not have any executables, you&#8217;re dealing with a Python module.</p>
<p><em>See:</em> <a class="reference internal" href="modules.html"><span class="doc">Porting Python modules</span></a></p>
</div>
<div class="section" id="an-application-and-a-module-in-one-package">
<h3><a class="toc-backref" href="#id7">3. An application and a module in one package</a><a class="headerlink" href="#an-application-and-a-module-in-one-package" title="Permalink to this headline">¶</a></h3>
<p>Use this section if your package contains both a Python module, that is being imported by third-party projects, and also contains an application—an executable that doesn&#8217;t interact with Python code (it doesn&#8217;t even have to be programmed in Python).</p>
<p><em>See:</em> <a class="reference internal" href="application-modules.html"><span class="doc">Porting an application and a module in one package</span></a></p>
</div>
<div class="section" id="tools-for-programming-in-python">
<h3><a class="toc-backref" href="#id8">4. Tools for programming in Python</a><a class="headerlink" href="#tools-for-programming-in-python" title="Permalink to this headline">¶</a></h3>
<p>This last section is for tools (executables) written in Python that themselves interact with Python code. If you need to package two versions of the executable, one for each major Python version, then this section is for you.</p>
<p>Examples: <em>pip, pytest, nosetest</em>.</p>
<p><em>See:</em> <a class="reference internal" href="tools.html"><span class="doc">Tools for programming in Python</span></a></p>
</div>
</div>
<div class="section" id="are-you-following-the-new-python-package-naming-scheme">
<h2><a class="toc-backref" href="#id9">Are you following the new Python package naming scheme?</a><a class="headerlink" href="#are-you-following-the-new-python-package-naming-scheme" title="Permalink to this headline">¶</a></h2>
<p>If you have ported your package according to the guidance in previous sections, then it most certainly complies with the <a class="reference external" href="https://fedoraproject.org/wiki/Packaging:Naming?rd=Packaging:NamingGuidelines#Python_source_package_naming">Python package naming guidelines</a>. However, you might have done it before this guide came to life or even before the naming guidelines changed, which might mean that some name changes are required. This section is here to walk you through them.</p>
<p><em>See:</em> <a class="reference internal" href="naming-scheme.html"><span class="doc">New Python package naming scheme</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="applications.html" class="btn btn-neutral float-right" title="Porting applications that happen to be written in Python" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Red Hat, Inc., CC BY-SA, examples CC0.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>